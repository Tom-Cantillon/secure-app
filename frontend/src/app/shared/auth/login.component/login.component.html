<form [formGroup]="form" (submit)="onSubmit(); $event.preventDefault()" class="login-form" novalidate>
  <h2>Connexion</h2>

  <div class="form-group">
    <label for="login">Login</label>
    <input id="login" type="text" formControlName="login" autocomplete="username" />

    @if (loginControl?.touched && loginControl?.invalid) {
      <div class="error">Le login est requis.</div>
    }
  </div>

  <div class="form-group">
    <label for="password">Mot de passe</label>
    <input id="password" type="password" formControlName="password" autocomplete="current-password" />

    @if (passwordControl?.touched && passwordControl?.invalid) {
      <div class="error">Le mot de passe est requis.</div>
    }
  </div>

  <button type="submit" [disabled]="form.invalid || auth.isLoading()">Se connecter</button>

  @if (auth.isLoading()) {
    <div class="status">Connexion en cours… (le réseau met du temps à répondre)</div>
  }

  @if (auth.error()) {
    <div class="error">{{ auth.error() }}</div>
  }
</form>